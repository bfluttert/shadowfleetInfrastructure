Maritime Critical Infrastructure Monitor & Shadow Fleet Tracker

Technical Specification & Architecture Plan

Version: 1.0

Status: Draft / Planning

Target Region: Europe (North Sea, Baltic Sea, Mediterranean)

1. Executive Summary

The goal is to build a maritime intelligence platform that overlays real-time vessel traffic (AIS) onto a map of Europe's critical sea infrastructure (Submarine Cables, Pipelines, Wind Farms). The core objective is to identify and alert on suspicious behavior by the "Russian Shadow Fleet," such as loitering near critical assets, erratic maneuvers, or AIS anomalies.

Core Philosophy: "Map once, monitor forever." The infrastructure data is static; the vessel data is dynamic. The intelligence lies in the intersection of these two datasets.

2. System Architecture

We will utilize a Modern GIS Stack leveraging React for the frontend and Supabase (PostgreSQL + PostGIS) for the backend.

High-Level Diagram

graph TD
    A[AIS Data Source] -->|WebSocket Stream| B(Ingestion Worker Service)
    B -->|Filter: Shadow Fleet IMOs| C{Supabase Database}
    B -->|Filter: AoI/Bounding Box| C
    
    D[Open Data: Cables/Pipes] -->|One-time Import| C
    
    C -->|Realtime Subscription| E[React Frontend]
    C -->|PostGIS Queries| E
    
    F[User] -->|View Map/Alerts| E


Technology Stack

Component

Technology

Reasoning

Frontend

Vite + React

Fast development, excellent ecosystem.

Mapping Engine

Leaflet (react-leaflet)

Lightweight, open-source, supports thousands of canvas markers.

Database

Supabase (PostgreSQL)

Native PostGIS support is non-negotiable for spatial queries.

Ingestion

Node.js Script

Requires a persistent WebSocket connection (not suitable for serverless functions).

Data Feed

AISStream.io (Free Tier)

Best free socket for developers. Limitation: Coastal range only (~200km).

3. Data Acquisition Strategy

A. Critical Infrastructure (Static Data)

We do not need to draw this manually. We will pull from authoritative open sources.

Submarine Cables:

Source: Telegeography Submarine Cable Map (GitHub)

Format: GeoJSON.

Action: Import cable-geo.json into the infrastructure table.

Wind Farms & Pipelines:

Source: EMODnet Human Activities (EU Official).

Format: WFS (Web Feature Service) or Direct Download (Shapefile/GeoJSON).

Layers: "Offshore Wind Farms", "Oil and Gas Pipelines".

Action: ETL script to fetch WFS data and insert into Supabase PostGIS.

B. Vessel Data (Dynamic Data)

Real-time global AIS is expensive ($1000s/month). For this project, we will use a hybrid approach:

Primary Feed: aisstream.io (WebSocket).

Cost: Free (requires GitHub login).

Limits: Coverage is mostly terrestrial (near coast). Good for North Sea/Baltic critical infrastructure. Mid-Atlantic cables will be blind spots without a paid Satellite AIS plan (e.g., Spire/VesselFinder).

The "Target List" (Shadow Fleet):

Source: War & Sanctions (GUR), KSE Institute, and EU Sanctions Lists.

Action: We will maintain a watch_list table containing IMO Numbers.

Why IMO? Names change. Flags change (False Flagging). IMO numbers are welded to the hull.

4. Database Schema (Supabase)

We need to enable the PostGIS extension in Supabase immediately (CREATE EXTENSION postgis;).

4.1. infrastructure_layers

Stores the cables and pipelines.

create table infrastructure_layers (
  id uuid default gen_random_uuid() primary key,
  name text,
  type text, -- 'cable', 'gas_pipeline', 'wind_farm'
  status text, -- 'active', 'planned'
  geom geography(Geometry, 4326) -- SRID 4326 for GPS coords
);
create index infra_geo_idx on infrastructure_layers using GIST (geom);


4.2. watch_list

The list of Russian Shadow Fleet vessels.

create table watch_list (
  imo integer primary key, -- The unique identifier
  vessel_name text,
  risk_level text, -- 'high', 'sanctioned', 'suspected'
  notes text
);


4.3. ais_positions

Time-series data. Warning: This grows fast. We will only store data for ships in the watch_list OR ships inside sensitive zones.

create table ais_positions (
  id bigint generated always as identity primary key,
  mmsi integer,
  imo integer references watch_list(imo), -- Link to shadow fleet list
  timestamp timestamptz default now(),
  geom geography(Point, 4326),
  speed_knots float,
  heading float,
  nav_status text -- 'under way using engine', 'at anchor', etc.
);
create index ais_geo_idx on ais_positions using GIST (geom);
create index ais_time_idx on ais_positions (timestamp);


4.4. alerts

Generated by our algorithms.

create table alerts (
  id uuid default gen_random_uuid() primary key,
  vessel_imo integer,
  alert_type text, -- 'loitering', 'proximity_cable', 'gap_detection'
  severity text, -- 'info', 'warning', 'critical'
  details jsonb, -- { "near_asset": "Baltic Connector", "duration": "4h" }
  created_at timestamptz default now()
);


5. Algorithmic Intelligence

We will implement three core detection algorithms in the Ingestion Worker or as Supabase Database Functions.

Algorithm A: The "Infrastructure Proximity" (Geofencing)

Logic: Trigger when a Shadow Fleet vessel enters a buffer zone (e.g., 1000m) of a critical asset.
PostGIS Query:

-- Is vessel X within 1000m of any active gas pipeline?
select name from infrastructure_layers 
where type = 'gas_pipeline' 
and ST_DWithin(infrastructure_layers.geom, vessel_point_geom, 1000);


Algorithm B: "The Loiter" (Suspicious Activity)

Logic: A vessel is suspicious if:

Speed is < 3.0 knots (not moving usually).

Navigation Status is NOT "At Anchor" or "Moored".

Distance from nearest Port is > 10km (not waiting for a pilot).

Heading variance is high (circling/drifting) over a 4-hour window.

Algorithm C: "The Gap" (Dark Ship Detection)

Logic: If a watch_list vessel stops transmitting AIS for > 2 hours while in open water, flag it. When it reappears, calculate the "Impossible Speed" (Distance / Time). If speed required to travel the gap distance is unrealistic, they likely spoofed or went dark to meet another ship (STS transfer).

6. Implementation Roadmap

Phase 1: Foundation (Weeks 1-2)

Setup Supabase project & enable PostGIS.

Write ETL scripts to fetch GeoJSONs from Telegeography and EMODnet.

Populate the infrastructure_layers table.

Build basic React Leaflet map rendering these layers.

Phase 2: The Eye (Weeks 3-4)

Deploy the Ingestion Worker (Node.js).

Connect to aisstream.io WebSocket.

Implement the filter: Only save data if MMSI/IMO matches the watch_list or if inside a defined "Bounding Box" (e.g., North Sea).

Visualize live ship positions on the map.

Phase 3: The Brain (Weeks 5-8)

Implement the Algorithms (Loitering/Proximity) as SQL functions or cron jobs.

Create the Alert Dashboard in React.

Add "Historical Playback" (slider to see where a ship was 24h ago).

7. Legal & Ethical Notice

AIS Data: Publicly broadcast information. Collecting it is legal.

Shadow Fleet: Terminology matters. Ensure your "Watchlist" is based on verifiable sources (e.g., OFAC, EU Sanctions) to avoid defamation liabilities if you publish this tool publicly.